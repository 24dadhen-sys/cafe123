module.exports=[84417,a=>{"use strict";var b=a.i(32228),c=a.i(79686),d=a.i(47812),e=a.i(92033),f=a.i(82162),g=a.i(17483);let h=(0,g.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var i=a.i(20757),j=a.i(35702),k=a.i(2005),l=a.i(39563),m=a.i(30353),n=a.i(20802),o=new WeakMap;function p(a,b){var c,d;let e,f,g;if("at"in Array.prototype)return Array.prototype.at.call(a,b);let h=(c=a,d=b,e=c.length,(g=(f=q(d))>=0?f:e+f)<0||g>=e?-1:g);return -1===h?void 0:a[h]}function q(a){return a!=a||0===a?0:Math.trunc(a)}(class a extends Map{#a;constructor(a){super(a),this.#a=[...super.keys()],o.set(this,!0)}set(a,b){return o.get(this)&&(this.has(a)?this.#a[this.#a.indexOf(a)]=a:this.#a.push(a)),super.set(a,b),this}insert(a,b,c){let d,e=this.has(b),f=this.#a.length,g=q(a),h=g>=0?g:f+g,i=h<0||h>=f?-1:h;if(i===this.size||e&&i===this.size-1||-1===i)return this.set(b,c),this;let j=this.size+ +!e;g<0&&h++;let k=[...this.#a],l=!1;for(let a=h;a<j;a++)if(h===a){let f=k[a];k[a]===b&&(f=k[a+1]),e&&this.delete(b),d=this.get(f),this.set(b,c)}else{l||k[a-1]!==b||(l=!0);let c=k[l?a:a-1],e=d;d=this.get(c),this.delete(c),this.set(c,e)}return this}with(b,c,d){let e=new a(this);return e.insert(b,c,d),e}before(a){let b=this.#a.indexOf(a)-1;if(!(b<0))return this.entryAt(b)}setBefore(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d,b,c)}after(a){let b=this.#a.indexOf(a);if(-1!==(b=-1===b||b===this.size-1?-1:b+1))return this.entryAt(b)}setAfter(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d+1,b,c)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#a=[],super.clear()}delete(a){let b=super.delete(a);return b&&this.#a.splice(this.#a.indexOf(a),1),b}deleteAt(a){let b=this.keyAt(a);return void 0!==b&&this.delete(b)}at(a){let b=p(this.#a,a);if(void 0!==b)return this.get(b)}entryAt(a){let b=p(this.#a,a);if(void 0!==b)return[b,this.get(b)]}indexOf(a){return this.#a.indexOf(a)}keyAt(a){return p(this.#a,a)}from(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.at(d)}keyFrom(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.keyAt(d)}find(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return d;c++}}findIndex(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return c;c++}return -1}filter(b,c){let d=[],e=0;for(let a of this)Reflect.apply(b,c,[a,e,this])&&d.push(a),e++;return new a(d)}map(b,c){let d=[],e=0;for(let a of this)d.push([a[0],Reflect.apply(b,c,[a,e,this])]),e++;return new a(d)}reduce(...a){let[b,c]=a,d=0,e=c??this.at(0);for(let c of this)e=0===d&&1===a.length?c:Reflect.apply(b,this,[e,c,d,this]),d++;return e}reduceRight(...a){let[b,c]=a,d=c??this.at(-1);for(let c=this.size-1;c>=0;c--){let e=this.at(c);d=c===this.size-1&&1===a.length?e:Reflect.apply(b,this,[d,e,c,this])}return d}toSorted(b){return new a([...this.entries()].sort(b))}toReversed(){let b=new a;for(let a=this.size-1;a>=0;a--){let c=this.keyAt(a),d=this.get(c);b.set(c,d)}return b}toSpliced(...b){let c=[...this.entries()];return c.splice(...b),new a(c)}slice(b,c){let d=new a,e=this.size-1;if(void 0===b)return d;b<0&&(b+=this.size),void 0!==c&&c>0&&(e=c-1);for(let a=b;a<=e;a++){let b=this.keyAt(a),c=this.get(b);d.set(b,c)}return d}every(a,b){let c=0;for(let d of this){if(!Reflect.apply(a,b,[d,c,this]))return!1;c++}return!0}some(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return!0;c++}return!1}});var r=a.i(75996),s=a.i(36365),t=a.i(32857),u=i.createContext(void 0);function v(a){let b=i.useContext(u);return a||b||"ltr"}var w="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},y="RovingFocusGroup",[z,A,B]=function(a){let c=a+"CollectionProvider",[d,e]=(0,l.createContextScope)(c),[f,g]=d(c,{collectionRef:{current:null},itemMap:new Map}),h=a=>{let{scope:c,children:d}=a,e=i.default.useRef(null),g=i.default.useRef(new Map).current;return(0,b.jsx)(f,{scope:c,itemMap:g,collectionRef:e,children:d})};h.displayName=c;let j=a+"CollectionSlot",m=(0,n.createSlot)(j),o=i.default.forwardRef((a,c)=>{let{scope:d,children:e}=a,f=g(j,d),h=(0,k.useComposedRefs)(c,f.collectionRef);return(0,b.jsx)(m,{ref:h,children:e})});o.displayName=j;let p=a+"CollectionItemSlot",q="data-radix-collection-item",r=(0,n.createSlot)(p),s=i.default.forwardRef((a,c)=>{let{scope:d,children:e,...f}=a,h=i.default.useRef(null),j=(0,k.useComposedRefs)(c,h),l=g(p,d);return i.default.useEffect(()=>(l.itemMap.set(h,{ref:h,...f}),()=>void l.itemMap.delete(h))),(0,b.jsx)(r,{...{[q]:""},ref:j,children:e})});return s.displayName=p,[{Provider:h,Slot:o,ItemSlot:s},function(b){let c=g(a+"CollectionConsumer",b);return i.default.useCallback(()=>{let a=c.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${q}]`));return Array.from(c.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[c.collectionRef,c.itemMap])},e]}(y),[C,D]=(0,l.createContextScope)(y,[B]),[E,F]=C(y),G=i.forwardRef((a,c)=>(0,b.jsx)(z.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,b.jsx)(z.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,b.jsx)(H,{...a,ref:c})})}));G.displayName=y;var H=i.forwardRef((a,c)=>{let{__scopeRovingFocusGroup:d,orientation:e,loop:f=!1,dir:g,currentTabStopId:h,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:n,onEntryFocus:o,preventScrollOnEntryFocus:p=!1,...q}=a,r=i.useRef(null),u=(0,k.useComposedRefs)(c,r),z=v(g),[B,C]=(0,t.useControllableState)({prop:h,defaultProp:l??null,onChange:n,caller:y}),[D,F]=i.useState(!1),G=(0,s.useCallbackRef)(o),H=A(d),I=i.useRef(!1),[J,K]=i.useState(0);return i.useEffect(()=>{let a=r.current;if(a)return a.addEventListener(w,G),()=>a.removeEventListener(w,G)},[G]),(0,b.jsx)(E,{scope:d,orientation:e,dir:z,loop:f,currentTabStopId:B,onItemFocus:i.useCallback(a=>C(a),[C]),onItemShiftTab:i.useCallback(()=>F(!0),[]),onFocusableItemAdd:i.useCallback(()=>K(a=>a+1),[]),onFocusableItemRemove:i.useCallback(()=>K(a=>a-1),[]),children:(0,b.jsx)(m.Primitive.div,{tabIndex:D||0===J?-1:0,"data-orientation":e,...q,ref:u,style:{outline:"none",...a.style},onMouseDown:(0,j.composeEventHandlers)(a.onMouseDown,()=>{I.current=!0}),onFocus:(0,j.composeEventHandlers)(a.onFocus,a=>{let b=!I.current;if(a.target===a.currentTarget&&b&&!D){let b=new CustomEvent(w,x);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=H().filter(a=>a.focusable);L([a.find(a=>a.active),a.find(a=>a.id===B),...a].filter(Boolean).map(a=>a.ref.current),p)}}I.current=!1}),onBlur:(0,j.composeEventHandlers)(a.onBlur,()=>F(!1))})})}),I="RovingFocusGroupItem",J=i.forwardRef((a,c)=>{let{__scopeRovingFocusGroup:d,focusable:e=!0,active:f=!1,tabStopId:g,children:h,...k}=a,l=(0,r.useId)(),n=g||l,o=F(I,d),p=o.currentTabStopId===n,q=A(d),{onFocusableItemAdd:s,onFocusableItemRemove:t,currentTabStopId:u}=o;return i.useEffect(()=>{if(e)return s(),()=>t()},[e,s,t]),(0,b.jsx)(z.ItemSlot,{scope:d,id:n,focusable:e,active:f,children:(0,b.jsx)(m.Primitive.span,{tabIndex:p?0:-1,"data-orientation":o.orientation,...k,ref:c,onMouseDown:(0,j.composeEventHandlers)(a.onMouseDown,a=>{e?o.onItemFocus(n):a.preventDefault()}),onFocus:(0,j.composeEventHandlers)(a.onFocus,()=>o.onItemFocus(n)),onKeyDown:(0,j.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void o.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return K[e]}(a,o.orientation,o.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=q().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=o.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>L(e))}}),children:"function"==typeof h?h({isCurrentTabStop:p,hasTabStop:null!=u}):h})})});J.displayName=I;var K={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}var M=a.i(1451),N=a.i(3536),O=a.i(90225),P="Radio",[Q,R]=(0,l.createContextScope)(P),[S,T]=Q(P),U=i.forwardRef((a,c)=>{let{__scopeRadio:d,name:e,checked:f=!1,required:g,disabled:h,value:l="on",onCheck:n,form:o,...p}=a,[q,r]=i.useState(null),s=(0,k.useComposedRefs)(c,a=>r(a)),t=i.useRef(!1),u=!q||o||!!q.closest("form");return(0,b.jsxs)(S,{scope:d,checked:f,disabled:h,children:[(0,b.jsx)(m.Primitive.button,{type:"button",role:"radio","aria-checked":f,"data-state":Y(f),"data-disabled":h?"":void 0,disabled:h,value:l,...p,ref:s,onClick:(0,j.composeEventHandlers)(a.onClick,a=>{f||n?.(),u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})}),u&&(0,b.jsx)(X,{control:q,bubbles:!t.current,name:e,value:l,checked:f,required:g,disabled:h,form:o,style:{transform:"translateX(-100%)"}})]})});U.displayName=P;var V="RadioIndicator",W=i.forwardRef((a,c)=>{let{__scopeRadio:d,forceMount:e,...f}=a,g=T(V,d);return(0,b.jsx)(O.Presence,{present:e||g.checked,children:(0,b.jsx)(m.Primitive.span,{"data-state":Y(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c})})});W.displayName=V;var X=i.forwardRef(({__scopeRadio:a,control:c,checked:d,bubbles:e=!0,...f},g)=>{let h=i.useRef(null),j=(0,k.useComposedRefs)(h,g),l=(0,N.usePrevious)(d),n=(0,M.useSize)(c);return i.useEffect(()=>{let a=h.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==d&&b){let c=new Event("click",{bubbles:e});b.call(a,d),a.dispatchEvent(c)}},[l,d,e]),(0,b.jsx)(m.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:d,...f,tabIndex:-1,ref:j,style:{...f.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function Y(a){return a?"checked":"unchecked"}X.displayName="RadioBubbleInput";var Z=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$="RadioGroup",[_,aa]=(0,l.createContextScope)($,[D,R]),ab=D(),ac=R(),[ad,ae]=_($),af=i.forwardRef((a,c)=>{let{__scopeRadioGroup:d,name:e,defaultValue:f,value:g,required:h=!1,disabled:i=!1,orientation:j,dir:k,loop:l=!0,onValueChange:n,...o}=a,p=ab(d),q=v(k),[r,s]=(0,t.useControllableState)({prop:g,defaultProp:f??null,onChange:n,caller:$});return(0,b.jsx)(ad,{scope:d,name:e,required:h,disabled:i,value:r,onValueChange:s,children:(0,b.jsx)(G,{asChild:!0,...p,orientation:j,dir:q,loop:l,children:(0,b.jsx)(m.Primitive.div,{role:"radiogroup","aria-required":h,"aria-orientation":j,"data-disabled":i?"":void 0,dir:q,...o,ref:c})})})});af.displayName=$;var ag="RadioGroupItem",ah=i.forwardRef((a,c)=>{let{__scopeRadioGroup:d,disabled:e,...f}=a,g=ae(ag,d),h=g.disabled||e,l=ab(d),m=ac(d),n=i.useRef(null),o=(0,k.useComposedRefs)(c,n),p=g.value===f.value,q=i.useRef(!1);return i.useEffect(()=>{let a=a=>{Z.includes(a.key)&&(q.current=!0)},b=()=>q.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,b.jsx)(J,{asChild:!0,...l,focusable:!h,active:p,children:(0,b.jsx)(U,{disabled:h,required:g.required,checked:p,...m,...f,name:g.name,ref:o,onCheck:()=>g.onValueChange(f.value),onKeyDown:(0,j.composeEventHandlers)(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:(0,j.composeEventHandlers)(f.onFocus,()=>{q.current&&n.current?.click()})})})});ah.displayName=ag;var ai=i.forwardRef((a,c)=>{let{__scopeRadioGroup:d,...e}=a,f=ac(d);return(0,b.jsx)(W,{...f,...e,ref:c})});ai.displayName="RadioGroupIndicator",a.s(["Indicator",()=>ai,"Item",()=>ah,"RadioGroup",()=>af,"RadioGroupIndicator",()=>ai,"RadioGroupItem",()=>ah,"Root",()=>af,"createRadioGroupScope",()=>aa],69781);var aj=a.i(69781),aj=aj,ak=a.i(32012);function al({className:a,...c}){return(0,b.jsx)(aj.Root,{"data-slot":"radio-group",className:(0,ak.cn)("grid gap-3",a),...c})}function am({className:a,...c}){return(0,b.jsx)(aj.Item,{"data-slot":"radio-group-item",className:(0,ak.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(aj.Indicator,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,b.jsx)(h,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var an=a.i(59795),ao=a.i(11460);let ap=(0,g.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var aq=a.i(68993),ar=a.i(50829);function as(){let{items:a,total:g,clearCart:h}=(0,c.useCart)(),j=(0,ao.useRouter)(),[k,l]=(0,i.useState)(!1),[m,n]=(0,i.useState)({customerName:"",mobileNumber:"",tableNumber:"",type:"DINE_IN",specialNote:""}),o=g(),p="PARCEL"===m.type?o+10:o,q=async b=>{if(b.preventDefault(),0!==a.length){l(!0);try{let b=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:a,...m})});if(!b.ok)throw Error("Failed to place order");let c=await b.json();h(),j.push(`/order/${c.id}`)}catch(a){console.error(a),alert("Something went wrong! Please try again.")}finally{l(!1)}}};return 0===a.length?(0,b.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Your cart is empty"}),(0,b.jsx)(d.Button,{asChild:!0,children:(0,b.jsx)(ar.default,{href:"/",children:"Browse Menu"})})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-24",children:[(0,b.jsxs)("div",{className:"bg-white p-4 sticky top-0 z-10 shadow-sm flex items-center gap-3",children:[(0,b.jsx)(ar.default,{href:"/",className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:(0,b.jsx)(ap,{className:"w-5 h-5"})}),(0,b.jsx)("h1",{className:"font-bold text-lg",children:"Checkout"})]}),(0,b.jsxs)("form",{onSubmit:q,className:"p-4 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-3",children:[(0,b.jsx)(f.Label,{className:"text-base font-semibold",children:"Dining Preference"}),(0,b.jsxs)(al,{defaultValue:"DINE_IN",onValueChange:a=>n({...m,type:a}),className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 border rounded-lg p-3 flex-1 justify-center has-[[data-state=checked]]:border-black has-[[data-state=checked]]:bg-gray-50",children:[(0,b.jsx)(am,{value:"DINE_IN",id:"dine-in"}),(0,b.jsx)(f.Label,{htmlFor:"dine-in",children:"Dine In"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 border rounded-lg p-3 flex-1 justify-center has-[[data-state=checked]]:border-black has-[[data-state=checked]]:bg-gray-50",children:[(0,b.jsx)(am,{value:"PARCEL",id:"parcel"}),(0,b.jsx)(f.Label,{htmlFor:"parcel",children:"Parcel (+₹10)"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[(0,b.jsx)("h2",{className:"font-semibold text-base",children:"Your Details"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"name",children:"Name (Optional)"}),(0,b.jsx)(e.Input,{id:"name",placeholder:"Enter your name",value:m.customerName,onChange:a=>n({...m,customerName:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"mobile",children:"Mobile (Optional)"}),(0,b.jsx)(e.Input,{id:"mobile",type:"tel",placeholder:"Where to send bill?",value:m.mobileNumber,onChange:a=>n({...m,mobileNumber:a.target.value})})]}),"DINE_IN"===m.type&&(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"table",children:"Table Number"}),(0,b.jsx)(e.Input,{id:"table",placeholder:"e.g. 4",value:m.tableNumber,onChange:a=>n({...m,tableNumber:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"note",children:"Special Instructions"}),(0,b.jsx)(an.Textarea,{id:"note",placeholder:"Less spicy, no onions, etc.",value:m.specialNote,onChange:a=>n({...m,specialNote:a.target.value})})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-2",children:[(0,b.jsx)("h2",{className:"font-semibold text-base mb-2",children:"Bill Summary"}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Item Total"}),(0,b.jsxs)("span",{children:["₹",o]})]}),"PARCEL"===m.type&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Parcel Charges"}),(0,b.jsx)("span",{children:"₹10"})]}),(0,b.jsxs)("div",{className:"border-t pt-2 mt-2 flex justify-between font-bold text-lg",children:[(0,b.jsx)("span",{children:"To Pay"}),(0,b.jsxs)("span",{children:["₹",p]})]})]}),(0,b.jsx)(d.Button,{type:"submit",className:"w-full h-14 text-lg bg-black hover:bg-gray-800 rounded-xl",disabled:k,children:k?(0,b.jsx)(aq.Loader2,{className:"w-5 h-5 animate-spin"}):`Place Order • ₹${p}`})]})]})}a.s(["default",()=>as],84417)}];

//# sourceMappingURL=_gemini_antigravity_scratch_sippins-cafe_app_checkout_page_tsx_583ec598._.js.map