module.exports=[88196,a=>{"use strict";var b=a.i(32228),c=a.i(20757),d=a.i(78894);let e=(0,a.i(17483).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var f=a.i(29061),g=a.i(68871),h=a.i(47812),i=a.i(92033),j=a.i(82162),k=a.i(59795),l=a.i(35702),m=a.i(2005),n=a.i(39563),o=a.i(32857),p=a.i(3536),q=a.i(1451),r=a.i(30353),s="Switch",[t,u]=(0,n.createContextScope)(s),[v,w]=t(s),x=c.forwardRef((a,d)=>{let{__scopeSwitch:e,name:f,checked:g,defaultChecked:h,required:i,disabled:j,value:k="on",onCheckedChange:n,form:p,...q}=a,[t,u]=c.useState(null),w=(0,m.useComposedRefs)(d,a=>u(a)),x=c.useRef(!1),y=!t||p||!!t.closest("form"),[z,C]=(0,o.useControllableState)({prop:g,defaultProp:h??!1,onChange:n,caller:s});return(0,b.jsxs)(v,{scope:e,checked:z,disabled:j,children:[(0,b.jsx)(r.Primitive.button,{type:"button",role:"switch","aria-checked":z,"aria-required":i,"data-state":B(z),"data-disabled":j?"":void 0,disabled:j,value:k,...q,ref:w,onClick:(0,l.composeEventHandlers)(a.onClick,a=>{C(a=>!a),y&&(x.current=a.isPropagationStopped(),x.current||a.stopPropagation())})}),y&&(0,b.jsx)(A,{control:t,bubbles:!x.current,name:f,value:k,checked:z,required:i,disabled:j,form:p,style:{transform:"translateX(-100%)"}})]})});x.displayName=s;var y="SwitchThumb",z=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=w(y,d);return(0,b.jsx)(r.Primitive.span,{"data-state":B(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});z.displayName=y;var A=c.forwardRef(({__scopeSwitch:a,control:d,checked:e,bubbles:f=!0,...g},h)=>{let i=c.useRef(null),j=(0,m.useComposedRefs)(i,h),k=(0,p.usePrevious)(e),l=(0,q.useSize)(d);return c.useEffect(()=>{let a=i.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...g.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function B(a){return a?"checked":"unchecked"}A.displayName="SwitchBubbleInput",a.s(["Root",()=>x,"Switch",()=>x,"SwitchThumb",()=>z,"Thumb",()=>z,"createSwitchScope",()=>u],38453);var C=a.i(38453),C=C,D=a.i(32012);function E({className:a,size:c="default",...d}){return(0,b.jsx)(C.Root,{"data-slot":"switch","data-size":c,className:(0,D.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",a),...d,children:(0,b.jsx)(C.Thumb,{"data-slot":"switch-thumb",className:(0,D.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var F=a.i(9783),G=a.i(10182);function H({...a}){return(0,b.jsx)(G.Dialog.Root,{"data-slot":"dialog",...a})}function I({...a}){return(0,b.jsx)(G.Dialog.Trigger,{"data-slot":"dialog-trigger",...a})}function J({...a}){return(0,b.jsx)(G.Dialog.Portal,{"data-slot":"dialog-portal",...a})}function K({className:a,...c}){return(0,b.jsx)(G.Dialog.Overlay,{"data-slot":"dialog-overlay",className:(0,D.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function L({className:a,children:c,showCloseButton:d=!0,...e}){return(0,b.jsxs)(J,{"data-slot":"dialog-portal",children:[(0,b.jsx)(K,{}),(0,b.jsxs)(G.Dialog.Content,{"data-slot":"dialog-content",className:(0,D.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",a),...e,children:[c,d&&(0,b.jsxs)(G.Dialog.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(F.XIcon,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function M({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,D.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function N({className:a,showCloseButton:c=!1,children:d,...e}){return(0,b.jsxs)("div",{"data-slot":"dialog-footer",className:(0,D.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...e,children:[d,c&&(0,b.jsx)(G.Dialog.Close,{asChild:!0,children:(0,b.jsx)(h.Button,{variant:"outline",children:"Close"})})]})}function O({className:a,...c}){return(0,b.jsx)(G.Dialog.Title,{"data-slot":"dialog-title",className:(0,D.cn)("text-lg leading-none font-semibold",a),...c})}function P({className:a,...c}){return(0,b.jsx)(G.Dialog.Description,{"data-slot":"dialog-description",className:(0,D.cn)("text-muted-foreground text-sm",a),...c})}var Q=a.i(54562),R=a.i(56564),S=a.i(5830);function T(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)({name:"",price:"",description:"",categoryId:"",isAvailable:!0});(0,c.useEffect)(()=>{w(),x()},[]);let w=async()=>{try{let a=await fetch("/api/menu"),b=await a.json();l(b)}catch(a){S.toast.error("Failed to load menu items")}finally{p(!1)}},x=async()=>{try{let a=await fetch("/api/categories"),b=await a.json();n(b)}catch(a){console.error("Failed to load categories",a)}},y=async a=>{a.preventDefault();let b={...u,price:parseFloat(u.price)};try{let a=s?`/api/menu/${s.id}`:"/api/menu",c=s?"PUT":"POST";(await fetch(a,{method:c,headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok?(S.toast.success(s?"Item updated!":"Item added!"),r(!1),A(),w()):S.toast.error("Failed to save item")}catch(a){S.toast.error("Error saving item")}},z=async a=>{if(confirm("Delete this item?"))try{(await fetch(`/api/menu/${a}`,{method:"DELETE"})).ok&&(S.toast.success("Item deleted"),w())}catch(a){S.toast.error("Failed to delete item")}},A=()=>{v({name:"",price:"",description:"",categoryId:"",isAvailable:!0}),t(null)};return o?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)(g.Coffee,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Menu Management"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Add, edit, or remove items from your menu"})]}),(0,b.jsxs)(H,{open:q,onOpenChange:a=>{r(a),a||A()},children:[(0,b.jsx)(I,{asChild:!0,children:(0,b.jsxs)(h.Button,{className:"gap-2",children:[(0,b.jsx)(d.Plus,{className:"h-4 w-4"}),"Add Item"]})}),(0,b.jsxs)(L,{children:[(0,b.jsxs)(M,{children:[(0,b.jsxs)(O,{children:[s?"Edit":"Add"," Menu Item"]}),(0,b.jsx)(P,{children:"Fill in the details for the menu item"})]}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"name",children:"Item Name"}),(0,b.jsx)(i.Input,{id:"name",value:u.name,onChange:a=>v({...u,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"price",children:"Price (₹)"}),(0,b.jsx)(i.Input,{id:"price",type:"number",step:"0.01",value:u.price,onChange:a=>v({...u,price:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"category",children:"Category"}),(0,b.jsxs)("select",{id:"category",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",value:u.categoryId,onChange:a=>v({...u,categoryId:a.target.value}),required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select..."}),m.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"description",children:"Description (Optional)"}),(0,b.jsx)(k.Textarea,{id:"description",value:u.description,onChange:a=>v({...u,description:a.target.value}),rows:3})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(E,{id:"available",checked:u.isAvailable,onCheckedChange:a=>v({...u,isAvailable:a})}),(0,b.jsx)(j.Label,{htmlFor:"available",children:"Available for order"})]}),(0,b.jsx)(N,{children:(0,b.jsxs)(h.Button,{type:"submit",children:[s?"Update":"Add"," Item"]})})]})]})]})]}),(0,b.jsx)("div",{className:"rounded-lg border bg-card",children:(0,b.jsxs)(Q.Table,{children:[(0,b.jsx)(Q.TableHeader,{children:(0,b.jsxs)(Q.TableRow,{children:[(0,b.jsx)(Q.TableHead,{children:"Item"}),(0,b.jsx)(Q.TableHead,{children:"Category"}),(0,b.jsx)(Q.TableHead,{children:"Price"}),(0,b.jsx)(Q.TableHead,{children:"Status"}),(0,b.jsx)(Q.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(Q.TableBody,{children:0===a.length?(0,b.jsx)(Q.TableRow,{children:(0,b.jsx)(Q.TableCell,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No items found. Add your first item!"})}):a.map(a=>(0,b.jsxs)(Q.TableRow,{children:[(0,b.jsx)(Q.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:a.description})]})}),(0,b.jsx)(Q.TableCell,{children:a.category.name}),(0,b.jsxs)(Q.TableCell,{className:"font-medium",children:["₹",a.price]}),(0,b.jsx)(Q.TableCell,{children:(0,b.jsx)(R.Badge,{variant:a.isAvailable?"default":"secondary",children:a.isAvailable?"Available":"Sold Out"})}),(0,b.jsx)(Q.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{t(a),v({name:a.name,price:a.price.toString(),description:a.description||"",categoryId:a.category.id,isAvailable:a.isAvailable}),r(!0)},children:(0,b.jsx)(e,{className:"h-4 w-4"})}),(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>z(a.id),children:(0,b.jsx)(f.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},a.id))})]})})]})}a.s(["default",()=>T],88196)}];

//# sourceMappingURL=_gemini_antigravity_scratch_sippins-cafe_app_admin_menu_page_tsx_266a0e49._.js.map