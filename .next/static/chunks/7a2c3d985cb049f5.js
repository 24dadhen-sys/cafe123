(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27322,e=>{"use strict";var t=e.i(98318),r=e.i(54443);function n({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...n})}function a({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...n})}function i({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...n})}function s({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...n})}function o({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...n})}function l({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...n})}e.s(["Card",()=>n,"CardContent",()=>o,"CardDescription",()=>s,"CardFooter",()=>l,"CardHeader",()=>a,"CardTitle",()=>i])},17713,e=>{"use strict";var t=e.i(98318),r=e.i(47503),n=e.i(94441),a=e.i(54443);let i=(0,r.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function s({className:e,variant:r="default",asChild:s=!1,...o}){let l=s?n.Slot.Root:"span";return(0,t.jsx)(l,{"data-slot":"badge","data-variant":r,className:(0,a.cn)(i({variant:r}),e),...o})}e.s(["Badge",()=>s])},56162,e=>{"use strict";var t=e.i(38077);e.s(["Loader2",()=>t.default])},93911,(e,t,r)=>{"use strict";var n=e.r(15024),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var u="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return o(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),s(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},31015,(e,t,r)=>{"use strict";t.exports=e.r(93911)},96299,92038,21409,e=>{"use strict";let t;var r=e.i(15024),n=e.i(31015);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],22277);var a=Object.prototype.hasOwnProperty;let i=new WeakMap,s=()=>{},o=s(),l=Object,c=e=>e===o,u=(e,t)=>({...e,...t}),d={},f={},g="undefined",h=typeof window!=g,v=typeof document!=g,m=h&&"Deno"in window,p=(e,t)=>{let r=i.get(e);return[()=>!c(t)&&e.get(t)||d,n=>{if(!c(t)){let a=e.get(t);t in f||(f[t]=a),r[5](t,u(a,n),a||d)}},r[6],()=>!c(t)&&t in f?f[t]:!c(t)&&e.get(t)||d]},b=!0,[x,y]=h&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[s,s],w={initFocus:e=>(v&&document.addEventListener("visibilitychange",e),x("focus",e),()=>{v&&document.removeEventListener("visibilitychange",e),y("focus",e)}),initReconnect:e=>{let t=()=>{b=!0,e()},r=()=>{b=!1};return x("online",t),x("offline",r),()=>{y("online",t),y("offline",r)}}},E=!r.default.useId,j=!h||m,N=j?r.useEffect:r.useLayoutEffect,O="u">typeof navigator&&navigator.connection,T=!j&&O&&(["slow-2g","2g"].includes(O.effectiveType)||O.saveData),R=new WeakMap,S=(e,t)=>e===`[object ${t}]`,C=0,_=e=>{let t,r,n=typeof e,a=l.prototype.toString.call(e),i=S(a,"Date"),s=S(a,"RegExp"),o=S(a,"Object");if(l(e)!==e||i||s)t=i?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=R.get(e))return t;if(t=++C+"~",R.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=_(e[r])+",";R.set(e,t)}if(o){t="#";let n=l.keys(e).sort();for(;!c(r=n.pop());)c(e[r])||(t+=r+":"+_(e[r])+",");R.set(e,t)}}return t},k=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?_(e):"",t]},V=0,L=()=>++V;async function D(...e){let[t,r,n,a]=e,s=u({populateCache:!0,throwOnError:!0},"boolean"==typeof a?{revalidate:a}:a||{}),l=s.populateCache,d=s.rollbackOnError,f=s.optimisticData,g=s.throwOnError;if("function"==typeof r){let e=[];for(let n of t.keys())!/^\$(inf|sub)\$/.test(n)&&r(t.get(n)._k)&&e.push(n);return Promise.all(e.map(h))}return h(r);async function h(r){let a,[u]=k(r);if(!u)return;let[h,v]=p(t,u),[m,b,x,y]=i.get(t),w=()=>{let e=m[u];return("function"==typeof s.revalidate?s.revalidate(h().data,r):!1!==s.revalidate)&&(delete x[u],delete y[u],e&&e[0])?e[0](2).then(()=>h().data):h().data};if(e.length<3)return w();let E=n,j=!1,N=L();b[u]=[N,0];let O=!c(f),T=h(),R=T.data,S=T._c,C=c(S)?R:S;if(O&&v({data:f="function"==typeof f?f(C,R):f,_c:C}),"function"==typeof E)try{E=E(C)}catch(e){a=e,j=!0}if(E&&"function"==typeof E.then){let e;if(E=await E.catch(e=>{a=e,j=!0}),N!==b[u][0]){if(j)throw a;return E}j&&O&&(e=a,"function"==typeof d?d(e):!1!==d)&&(l=!0,v({data:C,_c:o}))}if(l&&!j&&("function"==typeof l?v({data:l(E,C),error:o,_c:o}):v({data:E,error:o,_c:o})),b[u][1]=L(),Promise.resolve(w()).then(()=>{v({_c:o})}),j){if(g)throw a;return}return E}}let A=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},P=(e,t)=>{if(!i.has(e)){let r=u(w,t),n=Object.create(null),a=D.bind(o,e),l=s,c=Object.create(null),d=(e,t)=>{let r=c[e]||[];return c[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},f=(t,r,n)=>{e.set(t,r);let a=c[t];if(a)for(let e of a)e(r,n)},g=()=>{if(!i.has(e)&&(i.set(e,[n,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!j)){let t=r.initFocus(setTimeout.bind(o,A.bind(o,n,0))),a=r.initReconnect(setTimeout.bind(o,A.bind(o,n,1)));l=()=>{t&&t(),a&&a(),i.delete(e)}}};return g(),[e,a,g,l]}return[e,i.get(e)[4]]},[I,M]=P(new Map),F=u({onLoadingSlow:s,onSuccess:s,onError:s,onErrorRetry:(e,t,r,n,a)=>{let i=r.errorRetryCount,s=a.retryCount,o=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;(c(i)||!(s>i))&&setTimeout(n,o,a)},onDiscarded:s,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:T?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:T?5e3:3e3,compare:function e(t,r){var n,i;if(t===r)return!0;if(t&&r&&(n=t.constructor)===r.constructor){if(n===Date)return t.getTime()===r.getTime();if(n===RegExp)return t.toString()===r.toString();if(n===Array){if((i=t.length)===r.length)for(;i--&&e(t[i],r[i]););return -1===i}if(!n||"object"==typeof t){for(n in i=0,t)if(a.call(t,n)&&++i&&!a.call(r,n)||!(n in r)||!e(t[n],r[n]))return!1;return Object.keys(r).length===i}}return t!=t&&r!=r},isPaused:()=>!1,cache:I,mutate:M,fallback:{}},{isOnline:()=>b,isVisible:()=>{let e=v&&document.visibilityState;return c(e)||"hidden"!==e}}),W=(e,t)=>{let r=u(e,t);if(t){let{use:n,fallback:a}=e,{use:i,fallback:s}=t;n&&i&&(r.use=n.concat(i)),a&&s&&(r.fallback=u(a,s))}return r},B=(0,r.createContext)({});var U=e.i(22277);let $=h&&window.__SWR_DEVTOOLS_USE__,q=($?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,n)=>{let a=r&&((...e)=>{let[n]=k(t),[,,,a]=i.get(I);if(n.startsWith("$inf$"))return r(...e);let s=a[n];return c(s)?r(...e):(delete a[n],s)});return e(t,a,n)});$&&(window.__SWR_DEVTOOLS_REACT__=r.default);let z=()=>{},G=z(),H=(new WeakMap,r.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),J={dedupe:!0},K=Promise.resolve(o),Y=()=>s;l.defineProperty(e=>{let{value:t}=e,n=(0,r.useContext)(B),a="function"==typeof t,i=(0,r.useMemo)(()=>a?t(n):t,[a,n,t]),s=(0,r.useMemo)(()=>a?i:W(n,i),[a,n,i]),l=i&&i.provider,c=(0,r.useRef)(o);l&&!c.current&&(c.current=P(l(s.cache||I),i));let d=c.current;return d&&(s.cache=d[0],s.mutate=d[1]),N(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,r.createElement)(B.Provider,u(e,{value:s}))},"defaultValue",{value:F});let Z=(t=(e,t,a)=>{let{cache:s,compare:l,suspense:d,fallbackData:f,revalidateOnMount:v,revalidateIfStale:m,refreshInterval:b,refreshWhenHidden:x,refreshWhenOffline:y,keepPreviousData:w,strictServerPrefetchWarning:O}=a,[T,R,S,C]=i.get(s),[_,V]=k(e),A=(0,r.useRef)(!1),P=(0,r.useRef)(!1),I=(0,r.useRef)(_),M=(0,r.useRef)(t),F=(0,r.useRef)(a),W=()=>F.current.isVisible()&&F.current.isOnline(),[B,$,q,z]=p(s,_),G=(0,r.useRef)({}).current,Z=c(f)?c(a.fallback)?o:a.fallback[_]:f,Q=(e,t)=>{for(let r in G)if("data"===r){if(!l(e[r],t[r])&&(!c(e[r])||!l(eo,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},X=!A.current,ee=(0,r.useMemo)(()=>{let e=B(),r=z(),n=e=>{let r=u(e);return(delete r._k,(()=>{if(!_||!t||F.current.isPaused())return!1;if(X&&!c(v))return v;let e=c(Z)?r.data:Z;return c(e)||m})())?{isValidating:!0,isLoading:!0,...r}:r},a=n(e),i=e===r?a:n(r),s=a;return[()=>{let e=n(B());return Q(e,s)?(s.data=e.data,s.isLoading=e.isLoading,s.isValidating=e.isValidating,s.error=e.error,s):(s=e,e)},()=>i]},[s,_]),et=(0,n.useSyncExternalStore)((0,r.useCallback)(e=>q(_,(t,r)=>{Q(r,t)||e()}),[s,_]),ee[0],ee[1]),er=T[_]&&T[_].length>0,en=et.data,ea=c(en)?Z&&"function"==typeof Z.then?H(Z):Z:en,ei=et.error,es=(0,r.useRef)(ea),eo=w?c(en)?c(es.current)?ea:es.current:en:ea,el=_&&c(ea),ec=(0,r.useRef)(null);j||(0,n.useSyncExternalStore)(Y,()=>(ec.current=!1,ec),()=>(ec.current=!0,ec));let eu=ec.current;O&&eu&&!d&&el&&console.warn(`Missing pre-initiated data for serialized key "${_}" during server-side rendering. Data fetching should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let ed=!(!_||!t||F.current.isPaused())&&(!er||!!c(ei))&&(X&&!c(v)?v:d?!c(ea)&&m:c(ea)||m),ef=c(et.isValidating)?ed:et.isValidating,eg=c(et.isLoading)?ed:et.isLoading,eh=(0,r.useCallback)(async e=>{let t,r,n=M.current;if(!_||!n||P.current||F.current.isPaused())return!1;let i=!0,s=e||{},u=!S[_]||!s.dedupe,d=()=>E?!P.current&&_===I.current&&A.current:_===I.current,f={isValidating:!1,isLoading:!1},g=()=>{$(f)},h=()=>{let e=S[_];e&&e[1]===r&&delete S[_]},v={isValidating:!0};c(B().data)&&(v.isLoading=!0);try{if(u&&($(v),a.loadingTimeout&&c(B().data)&&setTimeout(()=>{i&&d()&&F.current.onLoadingSlow(_,a)},a.loadingTimeout),S[_]=[n(V),L()]),[t,r]=S[_],t=await t,u&&setTimeout(h,a.dedupingInterval),!S[_]||S[_][1]!==r)return u&&d()&&F.current.onDiscarded(_),!1;f.error=o;let e=R[_];if(!c(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return g(),u&&d()&&F.current.onDiscarded(_),!1;let s=B().data;f.data=l(s,t)?s:t,u&&d()&&F.current.onSuccess(t,_,a)}catch(r){h();let e=F.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(f.error=r,u&&d())&&(e.onError(r,_,e),(!0===t||"function"==typeof t&&t(r))&&(!F.current.revalidateOnFocus||!F.current.revalidateOnReconnect||W())&&e.onErrorRetry(r,_,e,e=>{let t=T[_];t&&t[0]&&t[0](U.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0}))}return i=!1,g(),!0},[_,s]),ev=(0,r.useCallback)((...e)=>D(s,I.current,...e),[]);if(N(()=>{M.current=t,F.current=a,c(en)||(es.current=en)}),N(()=>{var e;let t;if(!_)return;let r=eh.bind(o,J),n=0;F.current.revalidateOnFocus&&(n=Date.now()+F.current.focusThrottleInterval);let a=(e=(e,t={})=>{if(e==U.FOCUS_EVENT){let e=Date.now();F.current.revalidateOnFocus&&e>n&&W()&&(n=e+F.current.focusThrottleInterval,r())}else if(e==U.RECONNECT_EVENT)F.current.revalidateOnReconnect&&W()&&r();else if(e==U.MUTATE_EVENT)return eh();else if(e==U.ERROR_REVALIDATE_EVENT)return eh(t)},(t=T[_]||(T[_]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});if(P.current=!1,I.current=_,A.current=!0,$({_k:V}),ed&&!S[_])if(c(ea)||j)r();else h&&typeof window.requestAnimationFrame!=g?window.requestAnimationFrame(r):setTimeout(r,1);return()=>{P.current=!0,a()}},[_]),N(()=>{let e;function t(){let t="function"==typeof b?b(B().data):b;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!B().error&&(x||F.current.isVisible())&&(y||F.current.isOnline())?eh(J).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[b,x,y,_]),(0,r.useDebugValue)(eo),d){if(!E&&j&&el)throw Error("Fallback data is required when using Suspense in SSR.");el&&(M.current=t,F.current=a,P.current=!1);let e=C[_];if(H(!c(e)&&el?ev(e):K),!c(ei)&&el)throw ei;let r=el?eh(J):K;!c(eo)&&el&&(r.status="fulfilled",r.value=!0),H(r)}return{mutate:ev,get data(){return G.data=!0,eo},get error(){return G.error=!0,ei},get isValidating(){return G.isValidating=!0,ef},get isLoading(){return G.isLoading=!0,eg}}},function(...e){let n,a=(n=(0,r.useContext)(B),(0,r.useMemo)(()=>u(F,n),[n])),[i,s,o]="function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],l=W(a,o),c=t,{use:d}=l,f=(d||[]).concat(q);for(let e=f.length;e--;)c=f[e](c);return c(i,s||l.fetcher||null,l)});e.s(["default",()=>Z],96299);var Q=e.i(79998);e.s(["CheckCircle2",()=>Q.default],92038);let X=(0,e.i(50636).default)("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);e.s(["ChefHat",()=>X],21409)},5983,e=>{"use strict";var t=e.i(98318),r=e.i(96299),n=e.i(27322),a=e.i(93561),i=e.i(17713),s=e.i(56162),o=e.i(92038),l=e.i(21409);let c=e=>fetch(e).then(e=>e.json());function u(){let{data:e,error:u,mutate:d}=(0,r.default)("/api/admin/orders",c,{refreshInterval:5e3}),f=async(e,t)=>{try{await fetch(`/api/admin/orders/${e}`,{method:"PATCH",body:JSON.stringify({status:t})}),d()}catch(e){console.error("Failed to update status",e)}};return u?(0,t.jsx)("div",{children:"Failed to load orders"}):e?(0,t.jsxs)("div",{className:"p-8 space-y-8 bg-gray-50 min-h-screen",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(i.Badge,{variant:"outline",className:"bg-green-100 text-green-800",children:["Live Object: ",e.length," Active Orders"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(e=>(0,t.jsxs)(n.Card,{className:"border-l-4 border-l-blue-500 shadow-md hover:shadow-lg transition-shadow",children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)(n.CardTitle,{className:"text-sm font-medium",children:["Order #",e.id.slice(-4)]}),(0,t.jsx)(i.Badge,{variant:"PENDING"===e.status?"destructive":"default",children:e.status})]}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold mb-1",children:e.tableNumber?`Table ${e.tableNumber}`:"Parcel"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mb-4",children:[new Date(e.createdAt).toLocaleTimeString()," • ",e.customerName||"Guest"]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[e.items.map(e=>(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{children:[e.quantity,"x ",e.menuItem.name]}),(0,t.jsxs)("span",{className:"font-mono",children:["₹",e.menuItem.price*e.quantity]})]},e.id)),e.specialNote&&(0,t.jsxs)("div",{className:"text-xs bg-yellow-100 p-2 rounded text-yellow-800 mt-2",children:["Note: ",e.specialNote]})]}),(0,t.jsxs)("div",{className:"border-t pt-2 mt-2 flex justify-between items-center font-bold",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{children:["₹",e.totalAmount]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:["PENDING"===e.status&&(0,t.jsxs)(a.Button,{size:"sm",onClick:()=>f(e.id,"PREPARING"),children:[(0,t.jsx)(l.ChefHat,{className:"w-4 h-4 mr-1"})," Start"]}),"PREPARING"===e.status&&(0,t.jsxs)(a.Button,{size:"sm",onClick:()=>f(e.id,"COMPLETED"),variant:"default",className:"bg-green-600 hover:bg-green-700",children:[(0,t.jsx)(o.CheckCircle2,{className:"w-4 h-4 mr-1"})," Ready"]}),"COMPLETED"===e.status&&(0,t.jsx)(a.Button,{size:"sm",variant:"outline",disabled:!0,children:"Done"})]})]})]},e.id)),0===e.length&&(0,t.jsx)("div",{className:"col-span-full text-center py-20 text-gray-400",children:(0,t.jsx)("p",{children:"No active orders right now."})})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)(s.Loader2,{className:"h-8 w-8 animate-spin"})})}e.s(["default",()=>u])}]);